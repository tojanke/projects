#!/usr/bin/python
import time
import subprocess
import RPi.GPIO as GPIO
from gpiozero import TonalBuzzer
from gpiozero.tones import Tone
from gpiozero import Button


buzz = TonalBuzzer(21)
btnPin = 20
button = Button(20)

def delay(times):
    time.sleep(times/1100.0)
    
def tone(pitch, duration):
    if pitch == 0:
        delay(duration)
        return
    buzz.play(pitch)
    delay(duration)
    buzz.stop()    
    delay(2)

def play_sound():    
    tone(440, 257.54323222)
    delay(1.19731860632)
    tone(466, 257.54323222)
    delay(1.19731860632)
    tone(523, 257.54323222)
    delay(1.19731860632)
    tone(349, 257.54323222)
    delay(1.19731860632)
    tone(587, 516.164051185)
    delay(1.19731860632)
    tone(523, 257.54323222)
    delay(1.19731860632)    
    tone(523, 516.164051185)
    delay(1.19731860632)
    tone(466, 257.54323222)
    delay(1.19731860632)
    tone(587, 257.54323222)
    delay(1.19731860632)
    tone(523, 516.164051185)
    delay(575.910249641)
    tone(440, 257.54323222)
    delay(1.19731860632)
    tone(466, 257.54323222)
    delay(1.19731860632)
    tone(523, 257.54323222)
    delay(1.19731860632)
    tone(349, 257.54323222)
    delay(1.19731860632)
    tone(587, 516.164051185)
    delay(1.19731860632)
    tone(523, 257.54323222)
    delay(1.19731860632)
    tone(523, 516.164051185)
    delay(1.19731860632)
    tone(466, 257.54323222)
    delay(1.19731860632)    
    tone(466, 516.164051185)
    delay(1.19731860632)
    tone(349, 516.164051185)
    delay(288.553784124)
    tone(440, 257.54323222)
    delay(1.19731860632)
    tone(391, 128.232822737)
    delay(1.19731860632)
    tone(349, 128.232822737)
    delay(1.19731860632)
    tone(349, 257.54323222)
    delay(288.553784124)
    tone(440, 257.54323222)
    delay(1.19731860632)
    tone(391, 128.232822737)
    delay(1.19731860632)
    tone(349, 128.232822737)
    delay(1.19731860632)
    tone(349, 257.54323222)
    tone(261, 258.620818966)
    delay(1.19731860632)
    tone(440, 257.54323222)
    delay(1.19731860632)
    tone(391, 128.232822737)
    delay(1.19731860632)
    tone(349, 128.232822737)
    delay(1.19731860632)
    tone(349, 257.54323222)
    delay(1.19731860632)
    tone(440, 1033.40568912)
    delay(288.553784124)
    tone(440, 257.54323222)
    delay(1.19731860632)
    tone(391, 128.232822737)
    delay(1.19731860632)
    tone(349, 128.232822737)
    delay(1.19731860632)
    tone(349, 257.54323222)
    delay(1.19731860632)
    tone(349, 516.164051185)
    delay(288.553784124)
    tone(440, 257.54323222)
    delay(1.19731860632)
    tone(391, 257.54323222)
    delay(1.19731860632)
    tone(349, 257.54323222)
    delay(1.19731860632)
    tone(329, 257.54323222)
    delay(1.19731860632)
    tone(261, 257.54323222)
    delay(1.19731860632)
    tone(349, 1033.40568912)
    

try:
    while True:
        button.wait_for_press()
        print("The button was pressed!")
        play_sound()
        time.sleep(3)
except:
    GPIO.cleanup()
